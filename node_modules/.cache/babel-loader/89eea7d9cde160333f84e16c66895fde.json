{"ast":null,"code":"/*\n  Brill's POS Testing class\n  Copyright (C) 2017 Hugo W.L. ter Doest\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n'use strict';\n\nfunction BrillPOSTester() {}\n\nBrillPOSTester.prototype.test = function (corpus, tagger) {\n  var totalWords = 0;\n  var correctTagsLexicon = 0;\n  var correctTagsAfterRules = 0; // Tag the corpus using the tagger\n\n  corpus.sentences.forEach(function (sentence) {\n    var s = sentence.taggedWords.map(function (token) {\n      return token.token;\n    }); // Use the lexicon to tag the sentence\n\n    var taggedSentence = tagger.tagWithLexicon(s); // Count the right tags\n\n    sentence.taggedWords.forEach(function (token, i) {\n      totalWords++;\n\n      if (token.tag === taggedSentence.taggedWords[i].tag) {\n        correctTagsLexicon++;\n      }\n    }); // Use the rule set to tag the sentence\n\n    var taggedSentenceAfterRules = tagger.applyRules(taggedSentence); // Count the right tags\n\n    sentence.taggedWords.forEach(function (token, i) {\n      if (token.tag === taggedSentenceAfterRules.taggedWords[i].tag) {\n        correctTagsAfterRules++;\n      }\n    });\n  }); // Return percentage right\n\n  return [100 * correctTagsLexicon / totalWords, 100 * correctTagsAfterRules / totalWords];\n};\n\nmodule.exports = BrillPOSTester;","map":{"version":3,"sources":["C:/CodingProjects/ABCspelet/node_modules/natural/lib/natural/brill_pos_tagger/lib/Brill_POS_Tester.js"],"names":["BrillPOSTester","prototype","test","corpus","tagger","totalWords","correctTagsLexicon","correctTagsAfterRules","sentences","forEach","sentence","s","taggedWords","map","token","taggedSentence","tagWithLexicon","i","tag","taggedSentenceAfterRules","applyRules","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,SAASA,cAAT,GAA2B,CAE1B;;AAEDA,cAAc,CAACC,SAAf,CAAyBC,IAAzB,GAAgC,UAAUC,MAAV,EAAkBC,MAAlB,EAA0B;AACxD,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,kBAAkB,GAAG,CAAzB;AACA,MAAIC,qBAAqB,GAAG,CAA5B,CAHwD,CAKxD;;AACAJ,EAAAA,MAAM,CAACK,SAAP,CAAiBC,OAAjB,CAAyB,UAAUC,QAAV,EAAoB;AAC3C,QAAMC,CAAC,GAAGD,QAAQ,CAACE,WAAT,CAAqBC,GAArB,CAAyB,UAAUC,KAAV,EAAiB;AAClD,aAAOA,KAAK,CAACA,KAAb;AACD,KAFS,CAAV,CAD2C,CAK3C;;AACA,QAAMC,cAAc,GAAGX,MAAM,CAACY,cAAP,CAAsBL,CAAtB,CAAvB,CAN2C,CAO3C;;AACAD,IAAAA,QAAQ,CAACE,WAAT,CAAqBH,OAArB,CAA6B,UAAUK,KAAV,EAAiBG,CAAjB,EAAoB;AAC/CZ,MAAAA,UAAU;;AACV,UAAIS,KAAK,CAACI,GAAN,KAAcH,cAAc,CAACH,WAAf,CAA2BK,CAA3B,EAA8BC,GAAhD,EAAqD;AACnDZ,QAAAA,kBAAkB;AACnB;AACF,KALD,EAR2C,CAe3C;;AACA,QAAMa,wBAAwB,GAAGf,MAAM,CAACgB,UAAP,CAAkBL,cAAlB,CAAjC,CAhB2C,CAiB3C;;AACAL,IAAAA,QAAQ,CAACE,WAAT,CAAqBH,OAArB,CAA6B,UAAUK,KAAV,EAAiBG,CAAjB,EAAoB;AAC/C,UAAIH,KAAK,CAACI,GAAN,KAAcC,wBAAwB,CAACP,WAAzB,CAAqCK,CAArC,EAAwCC,GAA1D,EAA+D;AAC7DX,QAAAA,qBAAqB;AACtB;AACF,KAJD;AAKD,GAvBD,EANwD,CA+BxD;;AACA,SAAO,CAAC,MAAMD,kBAAN,GAA2BD,UAA5B,EAAwC,MAAME,qBAAN,GAA8BF,UAAtE,CAAP;AACD,CAjCD;;AAmCAgB,MAAM,CAACC,OAAP,GAAiBtB,cAAjB","sourcesContent":["/*\n  Brill's POS Testing class\n  Copyright (C) 2017 Hugo W.L. ter Doest\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n'use strict'\n\nfunction BrillPOSTester () {\n\n}\n\nBrillPOSTester.prototype.test = function (corpus, tagger) {\n  let totalWords = 0\n  let correctTagsLexicon = 0\n  let correctTagsAfterRules = 0\n\n  // Tag the corpus using the tagger\n  corpus.sentences.forEach(function (sentence) {\n    const s = sentence.taggedWords.map(function (token) {\n      return token.token\n    })\n\n    // Use the lexicon to tag the sentence\n    const taggedSentence = tagger.tagWithLexicon(s)\n    // Count the right tags\n    sentence.taggedWords.forEach(function (token, i) {\n      totalWords++\n      if (token.tag === taggedSentence.taggedWords[i].tag) {\n        correctTagsLexicon++\n      }\n    })\n\n    // Use the rule set to tag the sentence\n    const taggedSentenceAfterRules = tagger.applyRules(taggedSentence)\n    // Count the right tags\n    sentence.taggedWords.forEach(function (token, i) {\n      if (token.tag === taggedSentenceAfterRules.taggedWords[i].tag) {\n        correctTagsAfterRules++\n      }\n    })\n  })\n\n  // Return percentage right\n  return [100 * correctTagsLexicon / totalWords, 100 * correctTagsAfterRules / totalWords]\n}\n\nmodule.exports = BrillPOSTester\n"]},"metadata":{},"sourceType":"script"}